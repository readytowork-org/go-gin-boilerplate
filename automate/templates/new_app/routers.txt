package {{route_package}}

import (
	"{{project_name}}/apps/{{app_name}}"
	"{{project_name}}/infrastructure"
	"{{project_name}}/middlewares"
)

type Route struct {
	logger     infrastructure.Logger
	router     infrastructure.Router
	trx middlewares.DBTransaction 
	controller {{app_name}}.Controller
}

func RouteConstructor(
	logger infrastructure.Logger,
	router infrastructure.Router,
	trx middlewares.DBTransaction,
	controller {{app_name}}.Controller,
) Route {
	return Route{
		logger:     logger,
		router:     router,
		trx:     trx,
		controller: controller,
	}
}

func (i Route) Setup() {
	i.logger.Zap.Info("->Setting up {{app_name}} routes<-")
	{{app_name}} := i.router.Gin.Group("{{app_name}}")
	{
		{{app_name}}.GET("", i.controller.{{app_uppercase}}Api)

	}
}
